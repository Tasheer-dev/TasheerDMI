/* CSS from previous response (Ensure this is in your styles.css) */
@media print {
  /* HIDE ALL BUTTONS AND INTERACTIVE/SIDEBAR ELEMENTS */
  .submit-button,
  .mini-link-btn,
  .admin-topbar,
  .header img,
  .btn, /* Hides all Bootstrap buttons */
  .print-button /* Hides custom print/download buttons */
  {
      display: none !important;
  }

  /* Print Mirror for Textarea */
  #finalReportComments { 
      display: none !important; /* Hide the editable textarea */
  }
  #finalReportCommentsPrint {
    display: block !important; /* SHOW the print mirror element */
    white-space: pre-wrap !important; /* Ensure line breaks are preserved */
    word-break: break-word;
    /* ... other print styles ... */
  }
}


/* Additional styles for better print layout */

@media print {
    /* Ensure the Report Grid uses flex/block display to maintain layout */
    .report-grid { 
        display: flex !important; /* Forces side-by-side layout */
        flex-direction: row !important; /* Ensures it's a row, not a column */
        gap: 20px !important; /* Re-establish gap */
        width: 100% !important;
        max-width: 100% !important;
    }
    
    /* Ensure the component columns fill their allocated space */
    .report-summary, 
    .chart-wrapper {
        flex: 1 0 50% !important; /* Forces columns to share space equally or adjust based on content */
        max-width: 50% !important; /* Ensure they don't exceed half the page */
        break-inside: avoid; /* Important for page breaks */
        page-break-inside: avoid;
    }

    /* Ensure the chart itself is fully visible */
    canvas {
        max-width: 100% !important;
        height: auto !important;
    }
}



@media print {
  @page {
    size: A4 landscape;
    margin: 1cm;
  }

  html, body {
    width: 297mm;
    height: 210mm;
    overflow: visible !important;
  }

  body {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    background: white !important;
  }

  #reportSection {
    width: 150% !important;
    max-width: 100% !important;
  }

  /* Full width table â€“ auto stretch */
  .score-table {
    width: 100% !important;
    border-collapse: collapse;
    table-layout: auto !important;   /* FIX #1 */
    word-break: break-word !important; /* FIX #2 */
  }

  .score-table th,
  .score-table td {
    padding: 8px;
    border: 1px solid #ccc !important;
    font-size: 12px;
    vertical-align: top;
    text-align: left;
    white-space: normal !important;  /* FIX #3 */
  }

  /* More natural column proportions */
  .score-table th:nth-child(1) { width: 6%; }
  .score-table th:nth-child(2) { width: 44%; } /* question column */
  .score-table th:nth-child(3) { width: 10%; text-align: center; }
  .score-table th:nth-child(4) { width: 20%; }
  .score-table th:nth-child(5) { width: 20%; }

  /* Images or charts scale correctly */
  canvas {
    max-width: 100% !important;
    height: auto !important;
  }

  .report-grid, .container {
    width: 100% !important;
    max-width: 100% !important;
  }
}


.login-button:hover {
  background: #6590e0;
  transform: scale(1.05);
}
.login-icon {
  background: #5bda8c;
  border-radius: 50%;
  width: 35px;
  height: 35px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.login-icon i {
  color: white;
  font-size: 16px;
}




.live-score-card { background: #fff; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); padding: 15px; text-align: center; }
.live-score-card h4 { margin: 0 0 10px; color: var(--primary-blue); }
.live-score-chart-container { position: relative; width: 180px; height: 180px; margin: 0 auto; }
.score-percentage-center { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 2.4rem; font-weight: 700; color: var(--primary-blue); }
.score-status { margin-top: 10px; font-size: 0.9rem; color: #555; }
.mini-link-btn { display: block; width: 100%; margin-top: 10px; background: #e3f2fd; border: none; border-radius: 5px; padding: 7px 10px; cursor: pointer; color: #004d9c; font-weight: 500; }
.mini-link-btn.warning { background: #ffebee; color: #c62828; }
.area-header { background: var(--primary-blue); color: #fff; padding: 10px 15px; border-radius: 6px; margin-top: 15px; margin-bottom: 10px; font-size: 1.05rem; }
.question-block { background: #fff; border: 1px solid var(--q-border); border-left: 5px solid var(--secondary-green); padding: 15px; border-radius: 6px; margin-bottom: 15px; }
.question-block h3 { margin: 0 0 7px; color: var(--primary-blue); font-size: 1rem; }
.question-block p { margin: 0 0 10px; color: #666; font-size: 0.9rem; }
.level-select { width: 100%; padding: 9px 10px; border: 1px solid #ccc; border-radius: 4px; background: #fff; font-size: 0.95rem; }
.submit-button { width: 100%; margin-top: 20px; background: var(--primary-blue); color: #fff; border: none; padding: 13px; border-radius: 6px; font-size: 1rem; cursor: pointer; }
.save-status { display: none; background: #e8f5e9; color: var(--secondary-green); text-align: center; padding: 10px; border-radius: 4px; margin-bottom: 15px; border: 1px solid #c8e6c9; font-weight: 600; }

.score-display { font-size: 3rem; font-weight: 700; color: var(--secondary-green); }
.chart-wrapper { flex: 1; max-width: 400px; height: 220px; }
.print-button { width: 100%; background: var(--secondary-green); color: #fff; border: none; border-radius: 6px; padding: 12px; font-size: 1rem; cursor: pointer; margin-top: 15px; }
.score-table { width: 100%; border-collapse: collapse; background: #fff; margin-top: 15px; }
.score-table th, .score-table td { border: 1px solid #ddd; padding: 10px 12px; text-align: left; vertical-align: top; font-size: 0.9rem; }
.score-table th { background: var(--primary-blue); color: #fff; }
.score-value { text-align: center; font-weight: 600; color: var(--secondary-green); }


.container {
  max-width: 1200px;
  margin: 20px auto 40px;
  background: var(--container-bg);
  padding: 30px 40px;
  border-radius: 12px;
  box-shadow: var(--shadow);
}
.header {
  display: flex;
  justiadding: 8px 20px;
  color: white;
  font-weight: bold;
  font-family: Arial, sans-serif;
  cursor: pointer;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  transition: all 0.3s ease;
  gap: 10px;
}

/* ---------- Align the two charts side by side ---------- */
.report-summary-grid {
  display: flex;
  align-items: flex-start;      /* align top edges */
  justify-content: space-between;
  gap: 20px;                    /* small gap between the two charts */
  margin-top: 10px;
  margin-bottom: 0;
  flex-wrap: wrap;              /* stack on mobile screens */
}

.score-left,
.score-right {
  background: #fff;
  border-radius: 10px;
  padding: 10px 15px;
  box-shadow: 0 0 4px rgba(0, 0, 0, 0.05);
}

.score-left {
  flex: 0 0 260px;              /* fixed width for doughnut */
  text-align: center;
}

.score-right {
  flex: 1;                      /* bar chart fills remaining width */
  min-width: 300px;
}

.score-percent-text {
  font-size: 2rem;
  color: #005baa;
  margin-top: 8px;
  font-weight: 600;
}

/* Remove big empty white spaces */
.report-summary-grid canvas {
  max-width: 100%;
  height: auto;
}

/* Optional tighter look for the whole report */
#reportSection {
  padding-top: 10px;
  margin-top: 0;
}







    /* Page load layout */

    body load {
      margin: 0;
      background-color: #f8fafc;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      font-family: "Segoe UI", sans-serif;
    }
    .loader-container { text-align: center; }
    .loader-logo img {
      width: 120px;
      animation: fadeIn 1s ease-in-out infinite alternate;
    }
    .spinner {
      margin-top: 25px;
      border: 6px solid #ddd;
      border-top: 6px solid #005baa;
      border-radius: 50%;
      width: 65px; height: 65px;
      animation: spin 1s linear infinite;
    }
    .loading-text {
      margin-top: 15px;
      font-size: 16px;
      color: #005baa;
      font-weight: 500;
    }
    @keyframes spin { 0%{transform:rotate(0deg);}100%{transform:rotate(360deg);} }
    @keyframes fadeIn { from{opacity:0.6;}to{opacity:1;} }



    /*1. Make Title Blue and Smaller */

.header h1 { 
    margin: 0; 
    font-size: 1.3rem; /* Smaller size - was 1.7rem */
    color: var(--primary-blue); /* Already blue, but ensuring it */
    font-weight: 600;
}




/* --- Responsive Layout (Handling non-Bootstrap classes) --- */
@media (max-width: 1000px) {
    /* This overrides the flex properties for the main layout on smaller screens */
    .assessment-layout { flex-direction: column !important; } 
    /* Report grid is now handled by Bootstrap's col-lg-X, but keeping the original fallback for consistency */
    .report-grid { flex-direction: column !important; }
    .header { flex-direction: column !important; align-items: flex-start !important; gap: 10px; }
}


/* --- Loader Styles (Kept as custom) --- */
#pageLoader {
  position: fixed; inset: 0;
  background: linear-gradient(135deg,#f5f7fa,#e8edf3);
  display: flex; flex-direction: column; justify-content: center; align-items: center;
  z-index: 9999; transition: opacity .45s ease;
}
#pageLoader.fade-out { opacity: 0; pointer-events: none; }
#pageLoader img { width: 120px; animation: logoPulse 1.2s ease-in-out infinite alternate; }
.loaderSpinner {
  margin-top: 24px; width: 64px; height: 64px; border-radius: 50%;
  border: 6px solid #d9dee7; border-top-color: #005baa; animation: spin 1s linear infinite;
}
.loaderText {
  margin-top: 14px; font-weight: 600; font-size: 16px;
  background: linear-gradient(90deg,#004080,#0070e0,#004080);
  background-size: 200% auto; -webkit-background-clip: text; background-clip: text; color: transparent;
  animation: shimmer 2s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg) } }
@keyframes logoPulse { from { opacity:.6 } to { opacity:1 } }
@keyframes shimmer { to { background-position: 200% center } }



#finalReportCommentsPrint {
    /* ... */
    white-space: pre-wrap !important; /* Preserves line breaks and wraps text */
    word-break: break-word; /* Prevents long words from cutting off */
    break-inside: avoid; /* Suggests not breaking the box across pages */
    page-break-inside: avoid;
    /* ... */
}

@media (max-width: 1000px) {
  .assessment-layout { flex-direction: column; }
  .report-grid { flex-direction: column; }
  .header { flex-direction: column; align-items: flex-start; gap: 10px; }
}




@media (max-width: 1000px) {
  .assessment-layout { flex-direction: column; }
  .report-grid { flex-direction: column; }
  .header { flex-direction: column; align-items: flex-start; gap: 10px; }
}




/* Overriding Bootstrap text sizing for dramatic score display */
.score-percentage-center { 
    font-size: 2.4rem !important; 
    font-weight: 700 !important; 
    color: var(--primary-blue) !important; 
}

/* Small Buttons (mini-link-btn): Using custom styles for specific colors/gaps */
.mini-link-btn {
    /* Style based on original custom class for non-standard Bootstrap button look */
    background: #e3f2fd; 
    color: var(--primary-blue); 
    padding: 7px 10px;
    font-weight: 500;
}
.mini-link-btn:hover {
    background: #c5e1ff;
    color: var(--primary-blue);
}



/* Custom Container Styling (Enhancing Bootstrap's .container) */
.container {
  max-width: 1200px;
  /* Adjust margin for better fit with py-4 in HTML */
  margin: 20px auto 40px; 
  background: var(--container-bg);
  /* Padding is handled by Bootstrap's py-4/px-4 but keeping for consistency */
  padding: 30px 40px;
  border-radius: 12px;
  box-shadow: var(--shadow);
}



/* --- Header & Logo --- */
/* Most header flex properties handled by Bootstrap in HTML */
header {
    border-bottom: 3px solid var(--primary-blue) !important; /* Enforce primary color border */
    margin-bottom: 25px !important;
}

.header h1 { 
    color: var(--primary-blue);
}
.logo-container img { 
    max-height: 55px; 
}

/* --- Live Score Sidebar (Custom Chart & Score Center) --- */

/* Overriding Bootstrap .card for sticky sidebar on large screens */
.live-score-card { 
    padding: 15px; 
    text-align: center;
}

/* Retaining custom sizing for the chart container */
.live-score-chart-container { 
    position: relative; 
    width: 180px; 
    height: 180px; 
    margin: 0 auto; 
}




/* Print Buttons (Custom green color) */
.btn-success {
    --bs-btn-bg: var(--secondary-green);
    --bs-btn-border-color: var(--secondary-green);
    --bs-btn-hover-bg: #2e7d32;
    --bs-btn-hover-border-color: #2e7d32;
}

/* Score Table */
.score-table th { 
    background: var(--primary-blue) !important; 
    color: #fff !important; 
}
.score-value { 
    color: var(--secondary-green); 
}




/* Customizing Bootstrap buttons based on original .mini-link-btn variants */
.btn-info { /* Used for Randomize */
    --bs-btn-bg: #e1f5fe;
    --bs-btn-border-color: #e1f5fe;
    --bs-btn-color: #01579b;
    --bs-btn-hover-bg: #cce9ff;
    --bs-btn-hover-border-color: #cce9ff;
}
.btn-danger { /* Used for Reset */
    --bs-btn-bg: #ffebee;
    --bs-btn-border-color: #ffebee;
    --bs-btn-color: #c62828;
    --bs-btn-hover-bg: #ffcdd2;
    --bs-btn-hover-border-color: #ffcdd2;
}
.btn-warning { /* Used for Logout */
    --bs-btn-bg: #fffde7;
    --bs-btn-border-color: #fffde7;
    --bs-btn-color: #f9a825;
    --bs-btn-hover-bg: #fff9c4;
    --bs-btn-hover-border-color: #fff9c4;
}

/* --- Assessment Form (Dynamically generated questions) --- */
.area-header { 
    background: var(--primary-blue); 
    color: #fff; 
    padding: 10px 15px; 
    border-radius: 6px; 
    margin-top: 15px; 
    margin-bottom: 10px; 
    font-size: 1.05rem; 
}
.question-block { 
    background: #fff; 
    border: 1px solid var(--q-border); 
    border-left: 5px solid var(--secondary-green); /* Accent color border */
    padding: 15px; 
    border-radius: 6px; 
    margin-bottom: 15px; 
}
.question-block h3 { 
    color: var(--primary-blue); 
    font-size: 1rem; 
}
/* .level-select now uses Bootstrap's .form-select */

/* Submit Button (Custom primary color) */
.btn-primary {
    --bs-btn-bg: var(--primary-blue);
    --bs-btn-border-color: var(--primary-blue);
    --bs-btn-hover-bg: #003a7a;
    --bs-btn-hover-border-color: #003a7a;
}

/* Save Status */
.save-status { 
    /* This alert is styled by Bootstrap .alert-success, retaining custom background/color variables */
    background: #e8f5e9; 
    color: var(--secondary-green); 
    border: 1px solid #c8e6c9; 
}

/* --- Report Section --- */
.report-header { 
    background: var(--primary-blue); 
    color: #fff; 
    padding: 10px 15px; 
    border-radius: 1px 1px 0 0; 
}
.score-display { 
    color: var(--secondary-green) !important; /* Overriding Bootstrap primary color */
}
.chart-wrapper { 
    /* Ensuring the chart space is available for the canvas element */
    height: 150px; /* Increased height for better chart visibility */
}



