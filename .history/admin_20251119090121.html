

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tasheer DMI – Admin Dashboard</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">

  <!-- Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

  <!-- Charts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    /* Sidebar */
    .admin-sidebar {
      width: 260px;
      position: fixed;
      top: 0;
      bottom: 0;
      left: 0;
      overflow-y: auto;
      background: #f8fafc;
      border-right: 1px solid #e5e7eb;
      padding-top: 70px;
    }

    .admin-sidebar .nav-link {
      padding: 12px 18px;
      border-radius: 8px;
      margin-bottom: 4px;
      color: #475569;
      font-size: 0.92rem;
      font-weight: 500;
    }

    .admin-sidebar .nav-link.active {
      background: #e0ecff;
      color: #004d9c;
      font-weight: 600;
    }

    /* Topbar */
    .admin-topbar {
      position: fixed;
      top: 0;
      left: 260px;
      right: 0;
      height: 70px;
      background: #ffffff;
      border-bottom: 1px solid #e5e7eb;
      display: flex;
      align-items: center;
      padding: 0 20px;
      z-index: 100;
    }

    /* Main content */
    .admin-content {
      margin-left: 260px;
      padding: 100px 30px 40px;
    }

    .kpi-card {
      border-radius: 15px;
      padding: 25px;
      border: none;
      background: #fff;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    }

  </style>
</head>
<body onload="initAdminPage()">

  <!-- SIDEBAR -->
  <aside class="admin-sidebar">
    <div class="px-3 mb-3">
      <h5 class="fw-bold text-primary mb-3">Departments</h5>
    </div>

    <nav class="nav flex-column px-2" id="adminDeptList">

      <a class="nav-link" data-code="finance"><i class="bi bi-bank me-2"></i>Finance</a>
      <a class="nav-link" data-code="branches_ops"><i class="bi bi-shop me-2"></i>Branches Operations</a>
      <a class="nav-link" data-code="pmo"><i class="bi bi-diagram-3 me-2"></i>PMO</a>
      <a class="nav-link" data-code="business_dev"><i class="bi bi-briefcase me-2"></i>Business Development</a>
      <a class="nav-link" data-code="product_mgmt"><i class="bi bi-box-seam me-2"></i>Product Management</a>
      <a class="nav-link" data-code="marketing"><i class="bi bi-bullseye me-2"></i>Marketing & Communications</a>
      <a class="nav-link" data-code="solution_delivery"><i class="bi bi-gear me-2"></i>Solution Development & Delivery</a>
      <a class="nav-link" data-code="platforms_it_ops"><i class="bi bi-cpu me-2"></i>Platforms & IT Ops</a>
      <a class="nav-link" data-code="tech_strategy"><i class="bi bi-layers me-2"></i>Tech Strategy & Architecture</a>
      <a class="nav-link" data-code="data_analytics"><i class="bi bi-bar-chart-line me-2"></i>Data Analytics</a>
      <a class="nav-link" data-code="corporate_IT"><i class="bi bi-laptop me-2"></i>Corporate IT</a>
      <a class="nav-link" data-code="infra_ops"><i class="bi bi-hdd-stack me-2"></i>Infrastructure & Operations</a>
      <a class="nav-link" data-code="human_capital"><i class="bi bi-people me-2"></i>HCD</a>
      <a class="nav-link" data-code="grc"><i class="bi bi-shield-check me-2"></i>GRC</a>
      <a class="nav-link" data-code="business_excellence"><i class="bi bi-stars me-2"></i>Business Excellence</a>
      <a class="nav-link" data-code="legal_affairs"><i class="bi bi-journal-text me-2"></i>Legal & Regulatory</a>
      <a class="nav-link" data-code="cybersecurity"><i class="bi bi-shield-lock me-2"></i>Cybersecurity</a>
      <a class="nav-link" data-code="procurement"><i class="bi bi-cart-check me-2"></i>Procurement</a>
      <a class="nav-link" data-code="internal_audit"><i class="bi bi-clipboard-data me-2"></i>Internal Audit</a>

    </nav>
  </aside>

  <!-- TOPBAR -->
  <header class="admin-topbar">
    <h4 class="fw-semibold mb-0 text-primary" id="adminDeptTitle">Select a Department</h4>
    <div class="ms-auto d-flex align-items-center gap-3">
      <button onclick="logout()" class="btn btn-outline-danger btn-sm">
        Logout
      </button>
    </div>
  </header>

  <!-- CONTENT -->
  <main class="admin-content">

    <!-- KPI CARDS -->
    <div class="row g-4 mb-4">
      <div class="col-md-3">
        <div class="kpi-card">
          <h6 class="text-muted">Overall Maturity</h6>
          <div id="adminOverallPercent" class="display-6 fw-bold text-primary">—</div>
        </div>
      </div>

      <div class="col-md-3">
        <div class="kpi-card">
          <h6 class="text-muted">Questions Completed</h6>
          <div id="adminQuestionsCard" class="h3 fw-bold">—</div>
        </div>
      </div>

      <div class="col-md-3">
        <div class="kpi-card">
          <h6 class="text-muted">Maturity Band</h6>
          <div id="adminBandName" class="h5 fw-semibold text-success">—</div>
        </div>
      </div>

      <div class="col-md-3">
        <div class="kpi-card">
          <h6 class="text-muted">Status</h6>
          <div id="adminDataStatus" class="h6 fw-semibold">No Data</div>
        </div>
      </div>
    </div>

    <!-- CHART + AREA LIST -->
    <div class="row g-4">
      <div class="col-lg-7">
        <div class="card shadow-sm p-3">
          <h6 class="mb-3 fw-semibold">Area Breakdown</h6>
          <canvas id="adminAreaChart"></canvas>
        </div>
      </div>

      <div class="col-lg-5">
        <div class="card shadow-sm p-3">
          <h6 class="fw-semibold mb-3">Areas Summary</h6>
          <ul id="adminAreaList" class="list-group small"></ul>
        </div>
      </div>
    </div>

  </main>

  <!-- REQUIRED SCRIPTS -->
  <script src="maturitybands.js"></script>

  <!-- All quiz files -->
  <script src="quiz_finance.js"></script>
  <script src="quiz_branches_ops.js"></script>
  <script src="quiz_pmo.js"></script>
  <script src="quiz_business_dev.js"></script>
  <script src="quiz_product_mgmt.js"></script>
  <script src="quiz_marketing.js"></script>
  <script src="quiz_solution_delivery.js"></script>
  <script src="quiz_platforms_it_ops.js"></script>
  <script src="quiz_tech_strategy.js"></script>
  <script src="quiz_data_analytics.js"></script>
  <script src="quiz_corporate_IT.js"></script>
  <script src="quiz_infra_ops.js"></script>
  <script src="quiz_human_capital.js"></script>
  <script src="quiz_grc.js"></script>
  <script src="quiz_business_excellence.js"></script>
  <script src="quiz_legal_affairs.js"></script>
  <script src="quiz_cybersecurity.js"></script>
  <script src="quiz_procurement.js"></script>
  <script src="quiz_internal_audit.js"></script>

  <script src="users.js"></script>
  <script src="logic.js"></script>

</body>
</html>
